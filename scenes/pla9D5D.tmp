[gd_scene load_steps=71 format=3 uid="uid://cvclj5x7jgaan"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_ru67x"]
[ext_resource type="Texture2D" uid="uid://cw0233iki11yj" path="res://Assets/AnimationSheet_Character.png" id="1_yvsen"]
[ext_resource type="PackedScene" uid="uid://dhr8gymq84geg" path="res://Scenes/Attacks/bullet.tscn" id="2_6gymt"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jgchm"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ggkoq"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4whld"]
atlas = ExtResource("1_yvsen")
region = Rect2(64, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_01e0b"]
atlas = ExtResource("1_yvsen")
region = Rect2(96, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mxbqf"]
atlas = ExtResource("1_yvsen")
region = Rect2(128, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h5dkv"]
atlas = ExtResource("1_yvsen")
region = Rect2(160, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_uoon3"]
atlas = ExtResource("1_yvsen")
region = Rect2(192, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2gjqr"]
atlas = ExtResource("1_yvsen")
region = Rect2(224, 256, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h5qg3"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4e2ol"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b6d8u"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xlx4j"]
atlas = ExtResource("1_yvsen")
region = Rect2(64, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_frvcl"]
atlas = ExtResource("1_yvsen")
region = Rect2(96, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v4c6o"]
atlas = ExtResource("1_yvsen")
region = Rect2(128, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_btwjb"]
atlas = ExtResource("1_yvsen")
region = Rect2(160, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v08o6"]
atlas = ExtResource("1_yvsen")
region = Rect2(192, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ovuxr"]
atlas = ExtResource("1_yvsen")
region = Rect2(224, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_35grn"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_od28t"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_30lgw"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f27sv"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_svy3b"]
atlas = ExtResource("1_yvsen")
region = Rect2(64, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_js6yl"]
atlas = ExtResource("1_yvsen")
region = Rect2(96, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dkey4"]
atlas = ExtResource("1_yvsen")
region = Rect2(128, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_akauw"]
atlas = ExtResource("1_yvsen")
region = Rect2(160, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g33ij"]
atlas = ExtResource("1_yvsen")
region = Rect2(192, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1qdo"]
atlas = ExtResource("1_yvsen")
region = Rect2(224, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_y7rf7"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i2mr0"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nq2pd"]
atlas = ExtResource("1_yvsen")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7gysy"]
atlas = ExtResource("1_yvsen")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1k701"]
atlas = ExtResource("1_yvsen")
region = Rect2(128, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dm44k"]
atlas = ExtResource("1_yvsen")
region = Rect2(160, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qemtj"]
atlas = ExtResource("1_yvsen")
region = Rect2(192, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g4xne"]
atlas = ExtResource("1_yvsen")
region = Rect2(224, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p2kyr"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ykjdt"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h67ji"]
atlas = ExtResource("1_yvsen")
region = Rect2(64, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3q2yd"]
atlas = ExtResource("1_yvsen")
region = Rect2(96, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r0byb"]
atlas = ExtResource("1_yvsen")
region = Rect2(128, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_uka2t"]
atlas = ExtResource("1_yvsen")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_gvvpn"]
atlas = ExtResource("1_yvsen")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r5v7j"]
atlas = ExtResource("1_yvsen")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_imq3j"]
atlas = ExtResource("1_yvsen")
region = Rect2(96, 64, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_8mlg0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jgchm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ggkoq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4whld")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_01e0b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mxbqf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h5dkv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uoon3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2gjqr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h5qg3")
}],
"loop": false,
"name": &"attack",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4e2ol")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b6d8u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xlx4j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_frvcl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4c6o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_btwjb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v08o6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ovuxr")
}],
"loop": false,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_35grn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_od28t")
}],
"loop": false,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_30lgw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f27sv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_svy3b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_js6yl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dkey4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_akauw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g33ij")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1qdo")
}],
"loop": false,
"name": &"jump",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_y7rf7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i2mr0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nq2pd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7gysy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1k701")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dm44k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qemtj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g4xne")
}],
"loop": true,
"name": &"run",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p2kyr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ykjdt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h67ji")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3q2yd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r0byb")
}],
"loop": false,
"name": &"teleport",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_uka2t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gvvpn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r5v7j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_imq3j")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_up27f"]
size = Vector2(16, 28)

[sub_resource type="Animation" id="Animation_mnka1"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_0va0n"]
resource_name = "attack"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8]
}

[sub_resource type="Animation" id="Animation_6rf6b"]
resource_name = "death"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"death"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.133333, 0.266667, 0.4, 0.533333, 0.666667, 0.8, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}

[sub_resource type="Animation" id="Animation_tix55"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.2, 0.466667, 0.9, 2.76667),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 0, 1]
}

[sub_resource type="Animation" id="Animation_wifk1"]
resource_name = "jump"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.566667, 0.666667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}

[sub_resource type="Animation" id="Animation_8si84"]
resource_name = "run"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.133333, 0.233333, 0.366667, 0.5, 0.633333, 0.766667, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}

[sub_resource type="Animation" id="Animation_bdsgd"]
resource_name = "teleport"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"teleport"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.0333333, 0.266667, 0.5, 0.7, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4]
}

[sub_resource type="Animation" id="Animation_c7a3k"]
resource_name = "walk"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player_Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player_Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.166667, 0.333333, 0.5, 0.666667, 0.833333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 0, 1, 2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7e2mf"]
_data = {
"RESET": SubResource("Animation_mnka1"),
"attack": SubResource("Animation_0va0n"),
"death": SubResource("Animation_6rf6b"),
"idle": SubResource("Animation_tix55"),
"jump": SubResource("Animation_wifk1"),
"run": SubResource("Animation_8si84"),
"teleport": SubResource("Animation_bdsgd"),
"walk": SubResource("Animation_c7a3k")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ku6t2"]
animation = &"attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mr28a"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gwbid"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3qm4s"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8ykaa"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1wyvy"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_khbmr"]
break_loop_at_end = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8d747"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_28daf"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_eotu7"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_quk71"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_rp18h"]
states/End/position = Vector2(789, 236)
states/Start/position = Vector2(268, 337)
states/attack/node = SubResource("AnimationNodeAnimation_ku6t2")
states/attack/position = Vector2(503, 236)
states/idle/node = SubResource("AnimationNodeAnimation_mr28a")
states/idle/position = Vector2(268, 236)
states/jump/node = SubResource("AnimationNodeAnimation_gwbid")
states/jump/position = Vector2(35, 236)
states/walk/node = SubResource("AnimationNodeAnimation_3qm4s")
states/walk/position = Vector2(268, 114.146)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_8ykaa"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_1wyvy"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_khbmr"), "idle", "jump", SubResource("AnimationNodeStateMachineTransition_8d747"), "jump", "idle", SubResource("AnimationNodeStateMachineTransition_28daf"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_eotu7"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_quk71")]
graph_offset = Vector2(-308, -12.854)

[node name="Player" type="CharacterBody2D"]
position = Vector2(0, -1)
collision_mask = 62
script = ExtResource("1_ru67x")
magic_ball_scene = ExtResource("2_6gymt")

[node name="Player_Sprite" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -16)
sprite_frames = SubResource("SpriteFrames_8mlg0")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1, -14)
shape = SubResource("RectangleShape2D_up27f")

[node name="Player_Animations" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_7e2mf")
}
autoplay = "idle"

[node name="Player_State_Machine" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_rp18h")
anim_player = NodePath("../Player_Animations")

[node name="TimerAttack" type="Timer" parent="."]
one_shot = true
